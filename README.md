# Проектная работа спринта 1

## Задание 1

> Опыт работы с фронтендом отсутствует, поэтому распределил файлы по директориям и внес начальные изменения в код, но проект не запускается.

Для построения приложения с микрофронтендами предполагается использовать Webpack Module Federation.
Были выделены следующие микрофронтенды:
1) Микрофронтенд аутентификации `frontend/auth-microfrontend`.
2) Микрофронтенд работы с карточками `frontend/cards-microfrontend`.
3) Микрофронтенд профиля пользователя `frontend/profile-microfrontend`.

В проекте присутствуют компоненты (Popup) которые используются несколькими фикрофронтендами. Эти компоненты предполагается выделить в отдельный модуль `frontend/shared`.

## Задание 2

Диаграмма структуры декомпозированной системы - [Задание2.drawio](./Задание2.drawio)

Монолитная система была разделена на следующие отдельные компоненты:
1) **Сервер Reverse proxy + Load balancer**. Обратный прокси сервер с функцией балансировки нагрузки. Принимает запросы от клиентов.
2) **Сервис API Gateway**. Является точкой входа в систему. Обеспечивает функции роутинга запросов к нужным сервисам, безопасности, устойчивости и наблюдаемости.
3) **Микросервис управления пользователями**. Данный сервис отвечает за регистрацию новых пользователей и присвоение им ролей. Он взаимодействует с сервисом Keycloak для создания новых пользователей и задания их ролей.
4) **IAM сервис Keycloak**. Отвечает за аутентификацию и авторизацию, валидацию JWT токенов.
5) **Микросервис нотификации**. Предназначен для оповещения пользователей о различных событиях, возникающих в процессе работы площадки. Уведомления могут отправляться по Email и Websockets. Взаимодействие с микросервисом осуществляется асинхронно с помощью шины сообщений.
6) **Микросервис управления заказами**. Отвечает за создание, изменение, просмотр и управления жизненным циклом заказа.
7) **Микросервис управления товарами и услугами**. Позволяет создавать, редактировать, просматривать товары и заказы пользователя. Товары и заказы объединены в один сервис, т.к. они представляют по сути одну концепцию - что-то что можно приобрести у участника площадки.
8) **Микросервис управления платежами**. Отвечает за проведения платежей по заказам и взаимодействие со сторонними платежными системами.
9) **Микросервис управления апелляциями**. Отвечает за создание, просмотр, и изменение апелляциями, которые регистрируют пользователи платформы.
10) **Микросервис предоставления тех. поддержки**. Отвечает за создание, просмотр, и изменение заявок на тех. поддержку.
11) **Микросервис управления аукционами**. Отвечает за создание новых аукционов, изменения их статусов, подачу заявок и осуществление ставок.
12) **Сервис BI**. Это BI система, предназначенная для формирования отчетов. Работает с колоночной СУБД, куда стекаются данные о проводимых операциях на торговых площадках.

> В описании задачи отсутствует информация о бизнес-процессах обеспечиваемых системой, поэтому на диаграмме не отражено взаимодействие микросервисов при оплате и подтверждении заказов и др. Предполагается, что бизнес-процессы, которые реализует система, обеспечиваются с помощью паттерна Saga. Каждая такая сага представлена конечным автоматом (Spring Statemachine) с сохранением состояния в БД PostgreSQL. Обновление состояния происходит путем отправки сообщений микросервисами в соответствующие очереди шины сообщений.